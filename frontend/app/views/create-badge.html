<div class="container jumbotron">
    <div class="page-header text-center">
        <h1>Créer un badge</h1>
    </div>

    <form name="badgeCreateForm" class="form" ng-submit="badgeCreateForm.$valid && badgeCreateCtrl.addBadge()" novalidate>
        <div class="form-group text-left">
            <label for="badge-name">Nom</label>
            <input name="badgeName" type="text" class="form-control " id="badge-name" placeholder="Nom du badge"
                   ng-model="badgeCreateCtrl.badge.name" required>
        </div>

        <div class="form-group text-left">
            <label for="badge-description">Description</label>
            <textarea name="badgeDescription" class="form-control " id="badge-description" placeholder="Description du badge"
                   ng-model="badgeCreateCtrl.badge.description" required/>
        </div>

        <div class="input-group">
            <span for="badge-point" class="btn-primary input-group-addon" disabled>Points à gagner</span>
            <input name="badgePoint" id="badge-point" type="range" min="-100" max="100" ng-model="badgeCreateCtrl.badge.points" required>
            <span class="btn-primary input-group-addon" disabled>{{badgeCreateCtrl.badge.points}}</span>
        </div>

        <br/>

        <div class="input-group">
            <span class="btn-primary input-group-addon" disabled>Objectif : </span>
            <select name="objective" class="selectpicker form-control"
                    ng-model="badgeCreateCtrl.badge.currentGoal" ng-options="goal.name for goal in badgeCreateCtrl.goals"
                    ng-change="badgeCreateCtrl.change(badgeCreateCtrl.badge.currentGoal.id)" required>
                <option value="" disabled selected>Sélectionnez un objectif</option>
            </select>

        </div>
        {{badgeCreateCtrl.badge.currentGoal.comparisons.conditions}}
      <table id="conditions-required">
        <tbody>
        <tr ng-repeat="currentCondition in badgeCreateCtrl.badge.currentGoal.comparisons.conditions">
            <td>
                <select ng-if="currentCondition.leftValue.sensor" name="objective" class="selectpicker form-control"
                        ng-model="currentCondition.sensor.left" ng-options="sensor.name for sensor in badgeCreateCtrl.sensors" required>
                    <option value="" disabled selected>Sélectionnez un capteur</option>
                </select>
            </td>
            <td>{{currentCondition.leftValue.name}}</td>
            <td>{{currentCondition.comparison}}</td>
            <td>{{currentCondition.rightValue.name}}</td>
            <td>
                <select ng-if="currentCondition.rightValue.sensor" name="objective" class="selectpicker form-control"
                        ng-model="currentCondition.sensor.right" ng-options="sensor.name for sensor in badgeCreateCtrl.sensors" required>
                    <option value="" disabled selected>Sélectionnez un capteur</option>
                </select>
          </td>
        </tr>
        </tbody>
      </table>
        <br/>
        <br/>
  <blockquote>{{badgeCreateCtrl.currentGoalConditions}}</blockquote>
        <div class=" text-center">
            <input type="submit" class="btn btn-default" ng-disabled="!badgeCreateForm.$valid" value="Créer le badge"/>
        </div>
    </form>
</div>
